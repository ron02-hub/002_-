# EV走行音アンケートアプリケーション 要件定義書

## 1. プロジェクト概要

### 1.1 目的
電気自動車（EV）の走行音に対するユーザー印象を科学的に評価し、購買意欲向上につながるサウンドデザインの知見を得るためのWebアンケートアプリケーションを開発する。

### 1.2 背景
- EVは従来の内燃機関車と比較して静粛性が高く、走行音の設計が新たな価値創造の機会となっている
- 走行音は安全性（歩行者への警告）と快適性（ドライバー体験）の両面で重要
- ユーザーの主観的評価を定量化し、マーケティング戦略に活用する必要がある

### 1.3 対象ユーザー
- **回答者**: 日本国内の成人（20〜70歳）
- **分析者**: マーケティング担当者、音響エンジニア、製品企画担当者

---

## 2. 機能要件

### 2.1 コア機能

#### FR-001: 音声再生機能
- **説明**: 複数のEV走行音サンプルをWeb上で再生できる
- **詳細**:
  - 高品質オーディオ再生（WAV/MP3対応）
  - 音量調整機能
  - 再生位置表示
  - モバイル・デスクトップ両対応
- **優先度**: 必須

#### FR-002: デプスインタビュー型質問インターフェース
- **説明**: 対話形式で深層心理を引き出す質問システム
- **詳細**:
  - チャット風UIでの質問表示
  - 回答に応じた動的な追加質問生成
  - 「なぜそう思いましたか？」等の掘り下げ質問
  - 自然言語による自由回答の収集
- **優先度**: 必須

#### FR-003: 評価グリッド法（Repertory Grid）機能
- **説明**: ユーザーの構成概念（コンストラクト）を抽出する
- **詳細**:
  - 3つの走行音を比較し、2つの類似点と1つの相違点を回答
  - 抽出されたコンストラクトの階層化
  - ラダリング（上位・下位概念の探索）
- **優先度**: 必須

#### FR-004: 定量評価機能
- **説明**: 音の印象を数値化する評価尺度
- **詳細**:
  - SD法（Semantic Differential）による7段階評価
  - リッカート尺度による購買意欲評価
  - ランキング形式での比較評価
- **優先度**: 必須

#### FR-005: A/Bテスト・ランダム化比較機能
- **説明**: 統計的に有効な比較評価を実現
- **詳細**:
  - 回答者のランダムグループ割り当て
  - 音声サンプルの提示順序ランダム化
  - 対照群との比較分析
- **優先度**: 必須

### 2.2 分析・可視化機能

#### FR-006: 価値構造ツリー可視化
- **説明**: ユーザー価値を階層的に表示
- **詳細**:
  - 評価グリッド法の結果をツリー構造で表示
  - 上位価値→中位価値→下位価値の階層表示
  - インタラクティブな展開・折りたたみ
- **優先度**: 必須

#### FR-007: 自然言語処理分析
- **説明**: 自由回答テキストの分析
- **詳細**:
  - 形態素解析による頻出キーワード抽出
  - 感情分析（ポジティブ/ネガティブ）
  - トピックモデリング
  - 共起ネットワーク分析
- **優先度**: 高

#### FR-008: 統計解析ダッシュボード
- **説明**: 収集データの統計分析と可視化
- **詳細**:
  - 回答の分布・クロス集計
  - 相関分析
  - クラスター分析（回答者セグメンテーション）
  - 因子分析
- **優先度**: 高

### 2.3 管理機能

#### FR-009: 管理者ダッシュボード
- **説明**: アンケートの管理と進捗確認
- **詳細**:
  - 回答状況のリアルタイム確認
  - 音声サンプルの追加・編集
  - 質問項目の設定
- **優先度**: 中

#### FR-010: データエクスポート
- **説明**: 分析用データの出力
- **詳細**:
  - CSV/Excel形式でのエクスポート
  - JSON形式での詳細データ出力
  - 統計ソフト（SPSS, R）互換形式
- **優先度**: 中

---

## 3. 非機能要件

### 3.1 パフォーマンス
- **NFR-001**: ページ読み込み時間 3秒以内
- **NFR-002**: 音声再生開始まで 1秒以内
- **NFR-003**: 同時接続 100ユーザー対応

### 3.2 ユーザビリティ
- **NFR-004**: アンケート所要時間 45分以内
- **NFR-005**: 進捗表示（残り時間・完了率）
- **NFR-006**: 中断・再開機能
- **NFR-007**: スマートフォン最適化

### 3.3 セキュリティ
- **NFR-008**: 個人情報の暗号化保存
- **NFR-009**: HTTPS通信必須
- **NFR-010**: 回答データの匿名化オプション

### 3.4 アクセシビリティ
- **NFR-011**: WCAG 2.1 AA準拠
- **NFR-012**: 音量調整の視覚的フィードバック

---

## 4. 評価手法設計

### 4.1 評価フレームワーク

```
┌─────────────────────────────────────────────────────────────┐
│                    EV走行音 価値評価フレームワーク           │
├─────────────────────────────────────────────────────────────┤
│                                                             │
│  【Phase 1】導入・属性収集（5分）                           │
│    └── 基本属性、車歴、音への感度                          │
│                                                             │
│  【Phase 2】音声評価・定量評価（15分）                      │
│    ├── 走行音サンプル聴取（ランダム順序）                  │
│    ├── SD法による印象評価                                  │
│    └── 購買意欲評価                                        │
│                                                             │
│  【Phase 3】評価グリッド法（10分）                          │
│    ├── トライアド比較（3音比較×3セット）                   │
│    ├── コンストラクト抽出                                  │
│    └── ラダリング（上位・下位概念探索）                    │
│                                                             │
│  【Phase 4】デプスインタビュー型質問（12分）                │
│    ├── 最も好みの音についての深掘り                        │
│    ├── 購買決定要因の探索                                  │
│    └── 理想の走行音イメージ                                │
│                                                             │
│  【Phase 5】まとめ・自由記述（3分）                         │
│    └── 総合評価、追加コメント                              │
│                                                             │
└─────────────────────────────────────────────────────────────┘
```

### 4.2 評価グリッド法の実装

#### コンストラクト抽出プロセス
1. **トライアド提示**: 3つの走行音を順に再生
2. **類似・相違の回答**: 「2つが似ていて1つが違う」ペアを選択
3. **理由の言語化**: 類似点・相違点を自由記述
4. **ラダリング**: 
   - 上位へ：「なぜそれが重要ですか？」
   - 下位へ：「具体的にどういうことですか？」

#### 価値階層構造
```
┌─────────────────────────────────────────┐
│          終極価値（End Values）          │
│   例：安心感、満足感、ステータス         │
├─────────────────────────────────────────┤
│         手段価値（Means Values）         │
│   例：高級感がある、先進的である         │
├─────────────────────────────────────────┤
│       機能的属性（Functional Attributes）│
│   例：静か、滑らか、力強い               │
├─────────────────────────────────────────┤
│       物理的属性（Physical Attributes）  │
│   例：低音が響く、モーター音が聞こえる   │
└─────────────────────────────────────────┘
```

### 4.3 SD法評価項目（案）

| 評価軸 | 左極 | 右極 |
|--------|------|------|
| 1 | うるさい | 静か |
| 2 | 不快 | 心地よい |
| 3 | 安っぽい | 高級感がある |
| 4 | 古い | 先進的 |
| 5 | 弱々しい | 力強い |
| 6 | 不安 | 安心 |
| 7 | 退屈 | ワクワクする |
| 8 | 人工的 | 自然 |

---

## 5. データモデル

### 5.1 主要エンティティ

```
Respondent（回答者）
├── id: UUID
├── age_group: string
├── gender: string
├── driving_experience: number
├── ev_ownership: boolean
├── audio_sensitivity: number
└── created_at: timestamp

AudioSample（音声サンプル）
├── id: UUID
├── name: string
├── description: string
├── file_url: string
├── duration: number
├── category: string
└── created_at: timestamp

Evaluation（評価）
├── id: UUID
├── respondent_id: FK
├── audio_sample_id: FK
├── phase: string
├── sd_scores: JSON
├── purchase_intent: number
├── free_text: string
└── created_at: timestamp

Construct（コンストラクト）
├── id: UUID
├── respondent_id: FK
├── triad_ids: array[3]
├── similar_pair: array[2]
├── different_one: UUID
├── similarity_reason: string
├── difference_reason: string
├── ladder_up: string[]
├── ladder_down: string[]
└── created_at: timestamp
```

---

## 6. 技術スタック（提案）

### フロントエンド
- **フレームワーク**: Next.js 14+ (React)
- **スタイリング**: Tailwind CSS
- **状態管理**: Zustand
- **音声再生**: Howler.js
- **可視化**: D3.js, Recharts

### バックエンド
- **フレームワーク**: Next.js API Routes または FastAPI (Python)
- **データベース**: PostgreSQL
- **認証**: NextAuth.js
- **ファイルストレージ**: AWS S3 または Cloudflare R2

### 分析基盤
- **自然言語処理**: 
  - 形態素解析: MeCab / Sudachi
  - 感情分析: Transformers (日本語BERT)
- **統計解析**: Python (pandas, scipy, scikit-learn)

---

## 7. 開発ロードマップ

### Phase 1: 基盤構築（2週間）
- プロジェクト初期化
- データベース設計・構築
- 基本的なUI/UXデザイン
- 音声再生機能の実装

### Phase 2: コア機能開発（3週間）
- デプスインタビュー型UI
- 評価グリッド法機能
- 定量評価フォーム
- A/Bテスト基盤

### Phase 3: 分析機能開発（2週間）
- 価値ツリー可視化
- NLP分析パイプライン
- 統計ダッシュボード

### Phase 4: 最適化・テスト（1週間）
- パフォーマンス最適化
- ユーザビリティテスト
- セキュリティ監査

---

## 8. 成功指標（KPI）

### 8.1 アンケート品質
- **完了率**: 80%以上
- **平均回答時間**: 40〜50分
- **自由記述文字数**: 平均100文字以上/質問

### 8.2 分析品質
- **コンストラクト抽出数**: 平均5個以上/回答者
- **クラスター識別精度**: シルエットスコア 0.5以上

### 8.3 ビジネス指標
- **購買意欲向上の統計的有意差**: p < 0.05
- **マーケティング施策への活用件数**: 3件以上

---

## 更新履歴

| 日付 | バージョン | 更新内容 | 担当者 |
|------|-----------|----------|--------|
| 2026-01-01 | 1.0.0 | 初版作成 | - |

